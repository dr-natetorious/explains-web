{% extends "base.html" %}

{% block title %}Daily Brief - {{ date }}{% endblock %}

{% block hero %}{% endblock %}

{% block content %}
<article class="daily-article">
    <header>
        <h1>Daily Brief - {{ date }}</h1>
        <div class="article-meta">
            <span class="level-indicator level-{{ level }}">Level {{ level }}/5</span>
            <time>{{ generated_time }}</time>
        </div>
    </header>
    
    <main class="article-content">
        <div class="headlines-section">
            <h2>Today's Headlines</h2>
            <div class="content">{{ headlines_content | safe }}</div>
        </div>
        
        <div class="context-section">
            <h2>In-Depth Analysis</h2>
            <div class="content">{{ context_content | safe }}</div>
        </div>
    </main>
    
    <footer class="article-footer">
        <div class="generation-info">
            <p>Generated using {{ model_info | default("AI") }}</p>
            {% if generation_time_ms %}
            <p>Processing time: {{ generation_time_ms }}ms</p>
            {% endif %}
            {% if read_time %}
            <p>Estimated read time: {{ read_time }} minutes</p>
            {% endif %}
        </div>
        
        <div class="level-navigation">
            <h3>View at Different Levels:</h3>
            {% for nav_level in [1, 2, 3, 4, 5] %}
                {% if nav_level != level %}
                <a href="/daily/generate?level={{ nav_level }}" class="level-nav level-{{ nav_level }}">
                    Level {{ nav_level }}
                </a>
                {% endif %}
            {% endfor %}
        </div>
    </footer>
</article>
{% endblock %}

{% block extra_css %}
<style>
.daily-article { 
    max-width: 800px; 
    margin: 0 auto; 
    padding: 2rem; 
}

.article-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 1rem 0 2rem 0;
}

.level-indicator { 
    padding: 0.5rem 1rem; 
    border-radius: 20px; 
    font-weight: 600;
    font-size: 0.9rem;
}

.level-1 { background: rgba(72, 187, 120, 0.2); color: #9ae6b4; }
.level-2 { background: rgba(144, 205, 244, 0.2); color: #90cdf4; }
.level-3 { background: rgba(251, 211, 141, 0.2); color: #fbd38d; }
.level-4 { background: rgba(252, 129, 129, 0.2); color: #fc8181; }
.level-5 { background: rgba(183, 148, 246, 0.2); color: #b794f6; }

.headlines-section, .context-section { 
    margin: 2rem 0; 
    padding: 1.5rem;
    background: rgba(26, 31, 46, 0.8);
    border-radius: 12px;
    border: 1px solid #2d3748;
}

.article-footer {
    margin-top: 3rem;
    padding: 1.5rem;
    background: #2d3748;
    color: #cbd5e0;
    border-radius: 8px;
}

.generation-info { margin-bottom: 1rem; }
.generation-info p { margin: 0.25rem 0; font-size: 0.9rem; }

.level-navigation h3 { margin-bottom: 0.5rem; }
.level-nav {
    display: inline-block;
    padding: 0.5rem 1rem;
    margin: 0.25rem;
    text-decoration: none;
    border-radius: 6px;
    font-size: 0.8rem;
    transition: opacity 0.2s;
}
.level-nav:hover { opacity: 0.8; }
</style>
{% endblock %}